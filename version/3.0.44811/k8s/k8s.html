
<!DOCTYPE html>


<html lang="en-US" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>User Guide for Kubernetes &#8212; ADPS V3.0.44811</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css?v=84d92f63" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=6da122b0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'k8s/k8s';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="User Guide for VMware" href="../vmware/vmware.html" />
    <link rel="prev" title="User Guide for Linux OS" href="../linux_os/linux_os.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en-US"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="ADPS V3.0.44811 - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="ADPS V3.0.44811 - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Deployment</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agent_install/agent_install.html">Agent Installation Guide</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Management</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../administrator/administrator.html">Administrator’s Guide</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Databases</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../oracle/oracle.html">User Guide for Oracle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mysql/mysql.html">User Guide for MySQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mssql/mssql.html">User Guide for Microsoft SQL Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../db2/db2.html">User Guide for DB2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sybase/sybase.html">User Guide for Sybase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../informix/informix.html">User Guide for Informix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../postgresql/postgresql.html">User Guide for PostgreSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cachedb/cachedb.html">User Guide for Caché</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hana/hana.html">User Guide for SAP HANA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mariadb/mariadb.html">User Guide for MariaDB</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Files</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../file/file.html">User Guide for File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ndmp/ndmp.html">User Guide for NDMP</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Big Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../mongodb/mongodb.html">User Guide for MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hadoop/hadoop.html">User Guide for Hadoop</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Object Storage</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../obs/obs.html">User Guide for Object Storage</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Applications</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../exchange/exchange.html">User Guide for Microsoft Exchange Server</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Operating Systems</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../linux_os/linux_os.html">User Guide for Linux OS</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Containers</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">User Guide for Kubernetes</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Virtualization</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../vmware/vmware.html">User Guide for VMware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openstack/openstack.html">User Guide for OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hyper_v/hyper_v.html">User Guide for Hyper-V</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">



<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>User Guide for Kubernetes</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#planning-and-preparation">Planning and preparation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-configure-the-agent">Install and configure the agent</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-the-compatibility">Verify the compatibility</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-the-agent">Install the agent</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#activate-licenses-and-authorize-users">Activate licenses and authorize users</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backup">Backup</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-types">Backup types</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-policies">Backup policies</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#before-you-begin">Before you begin</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#log-in-to-the-resource">Log in to the resource</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-backup-job">Create a backup job</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-options">Backup options</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#restore">Restore</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Before you begin</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-point-in-time-restore-job">Create a point-in-time restore job</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#restore-options">Restore options</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#limitations">Limitations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#glossary">Glossary</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="user-guide-for-kubernetes">
<h1>User Guide for Kubernetes<a class="headerlink" href="#user-guide-for-kubernetes" title="Link to this heading">#</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>This guide introduces how to install and configure the ADPS agent, and how to properly use ADPS to back up and restore Kubernetes.</p>
<p>The backup and restore features supported by ADPS include:</p>
<ul>
<li><p>Backup sources</p>
<p>Namespaces, workloads</p>
</li>
<li><p>Backup type</p>
<p>Full backup</p>
</li>
<li><p>Backup targets</p>
<p>Standard storage pool, deduplication storage pool, tape library pool, object storage pool, and LAN-free pool</p>
</li>
<li><p>Backup schedules</p>
<p>Immediate, one-time, hourly, daily, weekly, and monthly</p>
</li>
<li><p>Data processing</p>
<p>Data compression, data encryption, multiple channels, reconnection, speed limit, and replication</p>
</li>
<li><p>Restore types</p>
<p>Point-in-time restore</p>
</li>
<li><p>Restore targets</p>
<p>Original host, different host</p>
</li>
</ul>
</section>
<section id="planning-and-preparation">
<h2>Planning and preparation<a class="headerlink" href="#planning-and-preparation" title="Link to this heading">#</a></h2>
<p>Before you install the agent, check the following prerequisites:</p>
<ol class="arabic simple">
<li><p>You have already installed and configured other backup components, including the backup server and the storage server.</p></li>
<li><p>You have created a user with roles of operator and administrator on the ADPS console. Log in to the console with this user to back up and restore the resource.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The administrator role can install and configure agents, activate licenses, and authorize users. The operator role can create backup/restore jobs.</p>
</div>
</section>
<section id="install-and-configure-the-agent">
<h2>Install and configure the agent<a class="headerlink" href="#install-and-configure-the-agent" title="Link to this heading">#</a></h2>
<section id="verify-the-compatibility">
<h3>Verify the compatibility<a class="headerlink" href="#verify-the-compatibility" title="Link to this heading">#</a></h3>
<p>Before you install the agent, ensure that your Kubernetes version is on the Aurreum Data Protection Suite’s compatibility lists.</p>
<ul class="simple">
<li><p>Kubernetes 1.17/1.18/1.19/1.20/1.21/1.22/1.23/1.26</p></li>
</ul>
</section>
<section id="install-the-agent">
<h3>Install the agent<a class="headerlink" href="#install-the-agent" title="Link to this heading">#</a></h3>
<p>ADPS supports the backup and restore of Kubernetes clusters on Linux.</p>
<p>The agent can be installed through images. To install the agent, do the following:</p>
<ol class="arabic">
<li><p>Take the master node for example. If you cannot operate on the master node, copy the <code class="docutils literal notranslate"><span class="pre">admin.conf</span></code> file from the master node to the target node.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>scp<span class="w"> </span>/etc/kubernetes/admin.conf<span class="w"> </span>root@&lt;node<span class="w"> </span>IP&gt;:/etc/kubernetes/
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;export KUBECONFIG=/etc/kubernetes/admin.conf&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.bash_profile
<span class="nb">source</span><span class="w"> </span>~/.bash_profile
</pre></div>
</div>
</li>
<li><p>Load the image (all nodes require this step).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">load</span> <span class="o">-</span><span class="n">i</span> <span class="n">agent</span><span class="o">-</span><span class="n">k8s</span><span class="o">-</span><span class="n">version</span><span class="o">.</span><span class="n">tar</span>
</pre></div>
</div>
</li>
<li><p>Check the image.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">docker</span> <span class="n">images</span><span class="o">|</span> <span class="n">grep</span> <span class="n">k8s</span> <span class="c1"># Or use the ctr images ls | grep k8s command</span>
</pre></div>
</div>
</li>
<li><p>Create a namespace and specify the <code class="docutils literal notranslate"><span class="pre">hostid</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kubectl</span> <span class="n">create</span> <span class="n">ns</span> <span class="n">backup</span>

<span class="n">uuidgen</span> <span class="o">-</span><span class="n">r</span> <span class="o">|</span> <span class="n">sed</span> <span class="s2">&quot;s/-//g&quot;</span>   <span class="c1"># Specify the hostid in the configmap by yourself</span>
</pre></div>
</div>
</li>
<li><p>Configure the <code class="docutils literal notranslate"><span class="pre">cluster.yaml</span></code> as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">rbac</span><span class="o">.</span><span class="n">authorization</span><span class="o">.</span><span class="n">k8s</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">ClusterRoleBinding</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">backup</span><span class="o">-</span><span class="n">k8s</span>
<span class="n">roleRef</span><span class="p">:</span>
  <span class="n">apiGroup</span><span class="p">:</span> <span class="n">rbac</span><span class="o">.</span><span class="n">authorization</span><span class="o">.</span><span class="n">k8s</span><span class="o">.</span><span class="n">io</span>
  <span class="n">kind</span><span class="p">:</span> <span class="n">ClusterRole</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">cluster</span><span class="o">-</span><span class="n">admin</span>
<span class="n">subjects</span><span class="p">:</span>
<span class="o">-</span> <span class="n">kind</span><span class="p">:</span> <span class="n">ServiceAccount</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">default</span>
  <span class="n">namespace</span><span class="p">:</span> <span class="n">backup</span>


<span class="n">kubectl</span> <span class="n">apply</span> <span class="o">-</span><span class="n">f</span> <span class="n">cluster</span><span class="o">.</span><span class="n">yaml</span>

</pre></div>
</div>
</li>
<li><p>Configure the agent as follows (You can deploy multiple agents to run multiple jobs. Agents can be switched among nodes. When you deploy multiple agents, they may be scheduled to the same node.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">apps</span><span class="o">/</span><span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">StatefulSet</span>
<span class="n">metadata</span><span class="p">:</span>
<span class="n">name</span><span class="p">:</span> <span class="n">backup</span><span class="o">-</span><span class="n">agent</span>
<span class="n">namespace</span><span class="p">:</span> <span class="n">backup</span>
<span class="n">spec</span><span class="p">:</span>
<span class="n">selector</span><span class="p">:</span>
  <span class="n">matchLabels</span><span class="p">:</span>
    <span class="n">app</span><span class="p">:</span> <span class="n">backup</span><span class="o">-</span><span class="n">agent</span>
<span class="n">serviceName</span><span class="p">:</span> <span class="n">backup</span><span class="o">-</span><span class="n">agent</span>
<span class="n">replicas</span><span class="p">:</span> <span class="mi">1</span> <span class="c1"># Replica number</span>
<span class="n">template</span><span class="p">:</span>
<span class="n">metadata</span><span class="p">:</span>
  <span class="n">labels</span><span class="p">:</span>
    <span class="n">app</span><span class="p">:</span> <span class="n">backup</span><span class="o">-</span><span class="n">agent</span>
<span class="n">spec</span><span class="p">:</span>
  <span class="n">containers</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">env</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">BACKUPD_HOST</span>
          <span class="n">value</span><span class="p">:</span> <span class="mf">172.16.30.197</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">BACKUPD_PORT</span>
          <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;50305&quot;</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">HOSTID_0</span>  <span class="c1"># Specify the hostid from number 0</span>
          <span class="n">value</span><span class="p">:</span> <span class="mf">9e26580745</span><span class="n">ab41fea2f80bf96e739186</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">BACKUPD_SSL</span>
          <span class="n">value</span><span class="p">:</span> <span class="s2">&quot;false&quot;</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">POD_IMAGE</span>
          <span class="c1"># Modify the value. You can use the docker images | grep pause command to check the value</span>
          <span class="n">value</span><span class="p">:</span> <span class="n">registry</span><span class="o">.</span><span class="n">aliyuncs</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">k8sxio</span><span class="o">/</span><span class="n">pause</span><span class="p">:</span><span class="mf">3.2</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">POD_NAME</span>
          <span class="n">value</span><span class="p">:</span> <span class="n">backup</span><span class="o">-</span><span class="n">pod</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">DEPLOY_METHOD</span>
          <span class="n">value</span><span class="p">:</span> <span class="n">statefulset</span>
        <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">HOSTNAME</span>
          <span class="n">valueFrom</span><span class="p">:</span>
            <span class="n">fieldRef</span><span class="p">:</span>
              <span class="n">fieldPath</span><span class="p">:</span> <span class="n">metadata</span><span class="o">.</span><span class="n">name</span>
      <span class="c1"># - name: BACKUPD_ACCESS_KEY</span>
      <span class="c1">#   value: &quot;42fff1271225cf15198e55a886e78945&quot;</span>
      <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">BACKUP_NODE</span>
          <span class="n">valueFrom</span><span class="p">:</span>
            <span class="n">fieldRef</span><span class="p">:</span>
              <span class="n">fieldPath</span><span class="p">:</span> <span class="n">spec</span><span class="o">.</span><span class="n">nodeName</span>
      <span class="c1"># Modify the image name. You can use the docker images or ctr image ls command to check the image name</span>
      <span class="n">image</span><span class="p">:</span> <span class="n">registry</span><span class="o">.</span><span class="n">docker</span><span class="o">.</span><span class="n">aurreum</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">stable</span><span class="o">/</span><span class="n">focal</span><span class="o">/</span><span class="n">agent</span><span class="o">-</span><span class="n">k8s</span><span class="p">:</span><span class="n">version</span>
      <span class="n">imagePullPolicy</span><span class="p">:</span> <span class="n">IfNotPresent</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">agent</span>
      <span class="n">resources</span><span class="p">:</span> <span class="p">{}</span>
      <span class="n">securityContext</span><span class="p">:</span>
        <span class="n">privileged</span><span class="p">:</span> <span class="n">true</span>
      <span class="n">volumeMounts</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">mountPath</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">adps</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">log</span><span class="o">-</span><span class="n">volume</span>
        <span class="o">-</span> <span class="n">mountPath</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">aurreum</span><span class="o">/</span><span class="n">adps</span><span class="o">/</span><span class="n">agent</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">opt</span><span class="o">-</span><span class="n">volume</span>
        <span class="o">-</span> <span class="n">mountPath</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">kubelet</span><span class="o">/</span><span class="n">pods</span>
          <span class="n">mountPropagation</span><span class="p">:</span> <span class="n">HostToContainer</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">pods</span><span class="o">-</span><span class="n">path</span>
        <span class="o">-</span> <span class="n">mountPath</span><span class="p">:</span> <span class="o">/</span><span class="n">dev</span>
          <span class="n">mountPropagation</span><span class="p">:</span> <span class="n">HostToContainer</span>
          <span class="n">name</span><span class="p">:</span> <span class="n">dev</span>
  <span class="n">hostIPC</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">hostNetwork</span><span class="p">:</span> <span class="n">true</span>
  <span class="n">hostPID</span><span class="p">:</span> <span class="n">true</span>
  <span class="c1">#nodeName: k8s-master-85  # This field is not required by default, but if you use LAN-free pools, you must specify the node.</span>
  <span class="c1">#nodeSelector:</span>
  <span class="c1">#     kubernetes.io/hostname: k8s-master-85  # This field is not required by default, but if you use LAN-free pools, you must specify the node.</span>
  <span class="n">volumes</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">hostPath</span><span class="p">:</span>
        <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">kubelet</span><span class="o">/</span><span class="n">pods</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">pods</span><span class="o">-</span><span class="n">path</span>
    <span class="o">-</span> <span class="n">hostPath</span><span class="p">:</span>
        <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">dev</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">dev</span>
    <span class="o">-</span> <span class="n">hostPath</span><span class="p">:</span>
        <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">opt_volume</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">opt</span><span class="o">-</span><span class="n">volume</span>
    <span class="o">-</span> <span class="n">hostPath</span><span class="p">:</span>
        <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">log_volume</span>
      <span class="n">name</span><span class="p">:</span> <span class="n">log</span><span class="o">-</span><span class="n">volume</span>
</pre></div>
</div>
</li>
<li><p>After the installation, use the <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">get</span> <span class="pre">pod</span> <span class="pre">-n</span> <span class="pre">backup</span></code> command to check whether the agent is running or not (<code class="docutils literal notranslate"><span class="pre">backup</span></code> is an example of the namespace. Change it according to your settings).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span> <span class="o">~</span><span class="p">]</span><span class="c1"># kubectl get pod -n backup</span>
<span class="n">NAME</span>             <span class="n">READY</span>   <span class="n">STATUS</span>    <span class="n">RESTARTS</span>   <span class="n">AGE</span>
<span class="n">backup</span><span class="o">-</span><span class="n">agent</span><span class="o">-</span><span class="mi">0</span>   <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>   <span class="mi">3</span>          <span class="mi">7</span><span class="n">h46m</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="activate-licenses-and-authorize-users">
<h2>Activate licenses and authorize users<a class="headerlink" href="#activate-licenses-and-authorize-users" title="Link to this heading">#</a></h2>
<p>After the agent installation, go back to the <strong>Resource</strong> page. The host with the agent installed appears on the page.</p>
<p>To activate licenses and authorize users, do the following:</p>
<ol class="arabic simple">
<li><p>From the menu, click <strong>Resource</strong> &gt; <strong>Resource</strong>. The <strong>Resource</strong> page appears.</p></li>
<li><p>On the <strong>Resource</strong> page, select the host. Click the <strong>Register</strong> icon. Then the <strong>Activate</strong> window appears.</p></li>
<li><p>In the <strong>Activate</strong> window, select the resource and click <strong>Submit</strong>.</p></li>
<li><p>After you activate the license, the <strong>Authorize</strong> window appears. From the <strong>User group</strong> list, select user groups to authorize access to the resource. Click <strong>Submit</strong>.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>If you are prompted with “No enough licenses”, contact the administrator to add licenses.</p></li>
<li><p>With many agents, install them first, then <strong>batch register</strong>, <strong>batch activate</strong>, and <strong>batch authorize</strong> the agents and resources for convenience. For details, see <a class="reference internal" href="#../manager/manager.md#batch-registerbatch-activatebatch-authorize"><span class="xref myst">Batch register/Batch activate/Batch authorize</span></a> in Aurreum Data Protection Suite Administrator’s Guide.</p></li>
</ol>
</div>
</section>
<section id="backup">
<h2>Backup<a class="headerlink" href="#backup" title="Link to this heading">#</a></h2>
<section id="backup-types">
<h3>Backup types<a class="headerlink" href="#backup-types" title="Link to this heading">#</a></h3>
<p>ADPS provides full backup for Kubernetes.</p>
<ul>
<li><p>Full backup</p>
<p>Backs up all the data on Kubernetes and enough logs to recover the data.</p>
</li>
</ul>
</section>
<section id="backup-policies">
<h3>Backup policies<a class="headerlink" href="#backup-policies" title="Link to this heading">#</a></h3>
<p>ADPS provides six backup schedule types: immediate, one-time, hourly, daily, weekly, and monthly.</p>
<ul class="simple">
<li><p>Immediate: ADPS will immediately start the job after it is created.</p></li>
<li><p>One-time: ADPS will perform the job at the specified time once only.</p></li>
<li><p>Hourly: ADPS will perform the job periodically at the specified hour/minute intervals within the time range according to the setting.</p></li>
<li><p>Daily: ADPS will perform the job periodically at the specified time and day intervals.</p></li>
<li><p>Weekly: ADPS will perform the job periodically at the specified time and week intervals.</p></li>
<li><p>Monthly: ADPS will perform the job periodically at the specified dates and times.</p></li>
</ul>
<p>You can set an appropriate backup policy based on your situation and requirements. Usually, we recommend the following common backup policy:</p>
<p>Perform a full backup once a week when the application traffic is relatively small (Example: on the weekend) to ensure that you have a recoverable point in time every week.</p>
</section>
<section id="before-you-begin">
<h3>Before you begin<a class="headerlink" href="#before-you-begin" title="Link to this heading">#</a></h3>
<p>Before you back up and restore Kubernetes, check the following:</p>
<ol class="arabic">
<li><p>Check the resource status.</p>
<p>(1) Click <strong>Resource</strong> &gt; <strong>Resource</strong>. The <strong>Resource</strong> page appears.</p>
<p>(2) Check whether the host and the Kubernetes resource are on the page with an <em>Online</em> state. If they are offline, check whether the agent service and the Kubernetes service are running.</p>
</li>
<li><p>Check storage pools.</p>
<p>(1) From the menu, click <strong>Storage</strong> &gt; <strong>Storage pool</strong>. The <strong>Storage pool</strong> page appears.</p>
<p>(2) Check whether the display area has any storage pools. If no, create a storage pool and authorize it for the current user. For details, see <a class="reference internal" href="#../manager/manager.md#add-a-storage-pool"><span class="xref myst">Add a storage pool</span></a> in Aurreum Data Protection Suite Administrator’s Guide.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to use LAN-free pools, do the following:</p>
<ol class="arabic simple">
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">modprobe</span> <span class="pre">iscsi_tcp</span></code> command to load the kernel of all hosts. You can use the <code class="docutils literal notranslate"><span class="pre">lsmod</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">iscsi_tcp</span></code> command to check whether the loading is successful.</p></li>
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">/usr/sbin/iscsid</span></code> command in the agent pod.</p></li>
</ol>
</div>
</li>
<li><p>Check the Kubernetes cluster status.</p>
<p>Here is the Linux command to check the Kubernetes cluster status.</p>
<p>(1) Use the <code class="docutils literal notranslate"><span class="pre">systemctl</span> <span class="pre">status</span> <span class="pre">kubelet</span></code> command to check whether the kubelet service is active (running).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[root@k8s-master-106 ~]# systemctl status kubelet
● kubelet.service - kubelet: The Kubernetes Node Agent
  Loaded: loaded (/usr/lib/systemd/system/kubelet.service; enabled; vendor preset: disabled)
  Drop-In: /usr/lib/systemd/system/kubelet.service.d
          └─10-kubeadm.conf
  Active: active (running) since Thu 2022-10-20 16:47:15 CST; 53min ago
    Docs: https://kubernetes.io/docs/
Main PID: 1169 (kubelet)
    Tasks: 29
  Memory: 161.6M
  CGroup: /system.slice/kubelet.service
          └─1169 /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf --config=/var/lib/kubelet/config.yaml --network-plugin...
</pre></div>
</div>
<p>(2) Use the <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">get</span> <span class="pre">nodes</span> <span class="pre">-owide</span></code> command to check the version of the Kubernetes cluster and whether all nodes are Ready. Ensure that the versions of all nodes are not older than v1.17.0. Otherwise, the CSI driver is not supported.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span> <span class="o">~</span><span class="p">]</span><span class="c1"># kubectl get nodes -owide</span>
<span class="n">NAME</span>             <span class="n">STATUS</span>   <span class="n">ROLES</span>    <span class="n">AGE</span>   <span class="n">VERSION</span>   <span class="n">INTERNAL</span><span class="o">-</span><span class="n">IP</span>     <span class="n">EXTERNAL</span><span class="o">-</span><span class="n">IP</span>   <span class="n">OS</span><span class="o">-</span><span class="n">IMAGE</span>                <span class="n">KERNEL</span><span class="o">-</span><span class="n">VERSION</span>                <span class="n">CONTAINER</span><span class="o">-</span><span class="n">RUNTIME</span>
<span class="n">k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span>   <span class="n">Ready</span>    <span class="n">master</span>   <span class="mi">30</span><span class="n">d</span>   <span class="n">v1</span><span class="mf">.19.5</span>   <span class="mf">172.16.12.106</span>   <span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>        <span class="n">CentOS</span> <span class="n">Linux</span> <span class="mi">7</span> <span class="p">(</span><span class="n">Core</span><span class="p">)</span>   <span class="mf">5.4.219</span><span class="o">-</span><span class="mf">1.</span><span class="n">el7</span><span class="o">.</span><span class="n">elrepo</span><span class="o">.</span><span class="n">x86_64</span>   <span class="n">docker</span><span class="p">:</span><span class="o">//</span><span class="mf">19.3.11</span>
<span class="n">k8s</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="mi">107</span>     <span class="n">Ready</span>    <span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>   <span class="mi">30</span><span class="n">d</span>   <span class="n">v1</span><span class="mf">.19.5</span>   <span class="mf">172.16.12.107</span>   <span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>        <span class="n">CentOS</span> <span class="n">Linux</span> <span class="mi">7</span> <span class="p">(</span><span class="n">Core</span><span class="p">)</span>   <span class="mf">5.4.219</span><span class="o">-</span><span class="mf">1.</span><span class="n">el7</span><span class="o">.</span><span class="n">elrepo</span><span class="o">.</span><span class="n">x86_64</span>   <span class="n">docker</span><span class="p">:</span><span class="o">//</span><span class="mf">19.3.11</span>
<span class="n">k8s</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="mi">108</span>     <span class="n">Ready</span>    <span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>   <span class="mi">30</span><span class="n">d</span>   <span class="n">v1</span><span class="mf">.19.5</span>   <span class="mf">172.16.12.108</span>   <span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span>        <span class="n">CentOS</span> <span class="n">Linux</span> <span class="mi">7</span> <span class="p">(</span><span class="n">Core</span><span class="p">)</span>   <span class="mf">5.4.219</span><span class="o">-</span><span class="mf">1.</span><span class="n">el7</span><span class="o">.</span><span class="n">elrepo</span><span class="o">.</span><span class="n">x86_64</span>   <span class="n">docker</span><span class="p">:</span><span class="o">//</span><span class="mf">19.3.11</span>
</pre></div>
</div>
<p>(3) Use the <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">get</span> <span class="pre">pod</span> <span class="pre">-A</span></code> command to check whether all the pods in the Kubernetes cluster are Running.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span> <span class="o">~</span><span class="p">]</span><span class="c1"># kubectl get pod -A</span>
<span class="n">NAMESPACE</span>      <span class="n">NAME</span>                                         <span class="n">READY</span>   <span class="n">STATUS</span>      <span class="n">RESTARTS</span>   <span class="n">AGE</span>
<span class="n">backup</span>         <span class="n">backup</span><span class="o">-</span><span class="n">agent</span><span class="o">-</span><span class="mi">0</span>                               <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>     <span class="mi">3</span>          <span class="mi">7</span><span class="n">h15m</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span>    <span class="n">calico</span><span class="o">-</span><span class="n">kube</span><span class="o">-</span><span class="n">controllers</span><span class="o">-</span><span class="mi">6</span><span class="n">c89d944d5</span><span class="o">-</span><span class="n">sgspg</span>     <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>     <span class="mi">9</span>          <span class="mi">30</span><span class="n">d</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span>    <span class="n">calico</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="mi">442</span><span class="n">p9</span>                            <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>     <span class="mi">9</span>          <span class="mi">30</span><span class="n">d</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span>    <span class="n">calico</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">hqlx4</span>                            <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>     <span class="mi">7</span>          <span class="mi">30</span><span class="n">d</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span>    <span class="n">calico</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">srnvz</span>                            <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>     <span class="mi">7</span>          <span class="mi">30</span><span class="n">d</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span>    <span class="n">coredns</span><span class="o">-</span><span class="mi">59</span><span class="n">c898cd69</span><span class="o">-</span><span class="n">bcf7r</span>                     <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>     <span class="mi">9</span>          <span class="mi">30</span><span class="n">d</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span>    <span class="n">coredns</span><span class="o">-</span><span class="mi">59</span><span class="n">c898cd69</span><span class="o">-</span><span class="n">t97vc</span>                     <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>     <span class="mi">10</span>         <span class="mi">30</span><span class="n">d</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span>    <span class="n">etcd</span><span class="o">-</span><span class="n">k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span>                          <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>     <span class="mi">9</span>          <span class="mi">30</span><span class="n">d</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span>    <span class="n">kube</span><span class="o">-</span><span class="n">apiserver</span><span class="o">-</span><span class="n">k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span>                <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>     <span class="mi">13</span>         <span class="mi">30</span><span class="n">d</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span>    <span class="n">kube</span><span class="o">-</span><span class="n">controller</span><span class="o">-</span><span class="n">manager</span><span class="o">-</span><span class="n">k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span>       <span class="mi">1</span><span class="o">/</span><span class="mi">1</span>     <span class="n">Running</span>     <span class="mi">76</span>         <span class="mi">30</span><span class="n">d</span>
</pre></div>
</div>
<p>(4) Use the <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">get</span> <span class="pre">sc</span></code> command to check whether the corresponding StorageClass of the CSI driver exists and whether the RECLAIMPOLICY of the StorageClass is Delete. If the RECLAIMPOLICY is not Delete, the temporary PV and volumes in Ceph created during backup cannot be deleted after the backup.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span> <span class="o">~</span><span class="p">]</span><span class="c1"># kubectl get sc</span>
<span class="n">NAME</span>         <span class="n">PROVISIONER</span>        <span class="n">RECLAIMPOLICY</span>   <span class="n">VOLUMEBINDINGMODE</span>   <span class="n">ALLOWVOLUMEEXPANSION</span>   <span class="n">AGE</span>
<span class="n">csi</span><span class="o">-</span><span class="n">rbd</span><span class="o">-</span><span class="n">sc</span>   <span class="n">rbd</span><span class="o">.</span><span class="n">csi</span><span class="o">.</span><span class="n">ceph</span><span class="o">.</span><span class="n">com</span>   <span class="n">Delete</span>          <span class="n">Immediate</span>           <span class="n">true</span>                   <span class="mi">30</span><span class="n">d</span>
</pre></div>
</div>
<p>(5) Use the <code class="docutils literal notranslate"><span class="pre">ceph</span> <span class="pre">-s</span></code> command to check whether the Ceph cluster status is normal and ensure that:</p>
<ul class="simple">
<li><p>the Ceph cluster has enough space</p></li>
<li><p>the Ceph version is later than v14.0</p></li>
<li><p>the kernel version is later than or equal to 5.1</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span> <span class="o">~</span><span class="p">]</span><span class="c1"># ceph -s</span>
  <span class="n">cluster</span><span class="p">:</span>
  <span class="nb">id</span><span class="p">:</span>     <span class="mi">948</span><span class="n">d9908</span><span class="o">-</span><span class="n">dd20</span><span class="o">-</span><span class="mi">4866</span><span class="o">-</span><span class="n">beea</span><span class="o">-</span><span class="n">e798e82f0252</span>
  <span class="n">health</span><span class="p">:</span> <span class="n">HEALTH_OK</span>

<span class="n">services</span><span class="p">:</span>
  <span class="n">mon</span><span class="p">:</span> <span class="mi">1</span> <span class="n">daemons</span><span class="p">,</span> <span class="n">quorum</span> <span class="n">k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span> <span class="p">(</span><span class="n">age</span> <span class="mi">24</span><span class="n">h</span><span class="p">)</span>
  <span class="n">mgr</span><span class="p">:</span> <span class="n">k8s</span><span class="o">-</span><span class="n">master</span><span class="o">-</span><span class="mi">106</span><span class="p">(</span><span class="n">active</span><span class="p">,</span> <span class="n">since</span> <span class="mi">24</span><span class="n">h</span><span class="p">)</span>
  <span class="n">osd</span><span class="p">:</span> <span class="mi">3</span> <span class="n">osds</span><span class="p">:</span> <span class="mi">3</span> <span class="n">up</span> <span class="p">(</span><span class="n">since</span> <span class="mi">24</span><span class="n">h</span><span class="p">),</span> <span class="mi">3</span> <span class="ow">in</span> <span class="p">(</span><span class="n">since</span> <span class="mi">5</span><span class="n">d</span><span class="p">)</span>

<span class="n">data</span><span class="p">:</span>
  <span class="n">pools</span><span class="p">:</span>   <span class="mi">1</span> <span class="n">pools</span><span class="p">,</span> <span class="mi">128</span> <span class="n">pgs</span>
  <span class="n">objects</span><span class="p">:</span> <span class="mi">825</span> <span class="n">objects</span><span class="p">,</span> <span class="mf">2.3</span> <span class="n">GiB</span>
  <span class="n">usage</span><span class="p">:</span>   <span class="mf">9.8</span> <span class="n">GiB</span> <span class="n">used</span><span class="p">,</span> <span class="mi">590</span> <span class="n">GiB</span> <span class="o">/</span> <span class="mi">600</span> <span class="n">GiB</span> <span class="n">avail</span>
  <span class="n">pgs</span><span class="p">:</span>     <span class="mi">128</span> <span class="n">active</span><span class="o">+</span><span class="n">clean</span>

<span class="n">io</span><span class="p">:</span>
  <span class="n">client</span><span class="p">:</span>   <span class="mi">62</span> <span class="n">KiB</span><span class="o">/</span><span class="n">s</span> <span class="n">wr</span><span class="p">,</span> <span class="mi">0</span> <span class="n">op</span><span class="o">/</span><span class="n">s</span> <span class="n">rd</span><span class="p">,</span> <span class="mi">4</span> <span class="n">op</span><span class="o">/</span><span class="n">s</span> <span class="n">wr</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Since Kubernetes v1.20, Kubernetes removes the <code class="docutils literal notranslate"><span class="pre">metadata.selfLink</span></code> by default but some applications still use it, such as nfs-client-provisioner. To use these applications, enable <code class="docutils literal notranslate"><span class="pre">metadata.selfLink</span></code>. Modify the <code class="docutils literal notranslate"><span class="pre">/etc/kubernetes/manifests/kube-apiserver.yaml</span></code> file, add a line <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">--feature-gates=RemoveSelfLink=false</span></code> in the start parameter, and run <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">apply</span> <span class="pre">-f</span> <span class="pre">kube-apiserver.yaml</span></code>.</p></li>
<li><p>CSI reference: <a class="reference external" href="https://github.com/ceph/ceph-csi.git">ceph-csi.git</a></p></li>
<li><p>Snapshot reference: <a class="reference external" href="https://github.com/kubernetes-csi/external-snapshotter.git">external-snapshotter.git</a></p></li>
</ol>
</div>
</section>
<section id="log-in-to-the-resource">
<h3>Log in to the resource<a class="headerlink" href="#log-in-to-the-resource" title="Link to this heading">#</a></h3>
<p>Before you create a backup or restore job, log in to the Kubernetes instance and authenticate the identity. You can use the access key of the current ADPS user to log in to the resource. This method is suitable for the following scenarios:</p>
<ul class="simple">
<li><p>You cannot get the OS user’s username and password.</p></li>
<li><p>The user’s password changes frequently.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Access key authentication is not enabled by default. To enable this feature, log in to the ADPS console, go to <strong>Settings</strong>, open the <strong>Security</strong> tab, and select the <strong>Access key login instance</strong> checkbox.</p></li>
<li><p>To get the access key, log in to the console, click <strong>Personal settings</strong> &gt; <strong>Account settings</strong> on the upper right corner, find <strong>Access key</strong> on the <strong>Preferences</strong> tab, and click <strong>View</strong>.</p></li>
</ol>
</div>
<p>To log in to the resource, do the following:</p>
<ol class="arabic simple">
<li><p>From the menu, click <strong>Resource</strong> &gt; <strong>Resource</strong>. The <strong>Resource</strong> page appears.</p></li>
<li><p>From the host list, find the host where the K8s resource resides. If you have many hosts, use the search bar to find the host quickly. Click the host to expand its resource list.</p></li>
<li><p>Click <strong>Login</strong> beside the resource. The <strong>Login</strong> window appears.</p></li>
<li><p>In the <strong>Login</strong> window, enter the access key of the current ADPS user, and click <strong>Login</strong>.</p></li>
<li><p>If your information is correct, you will be prompted that you have logged in to the resource successfully.</p></li>
</ol>
</section>
<section id="create-a-backup-job">
<h3>Create a backup job<a class="headerlink" href="#create-a-backup-job" title="Link to this heading">#</a></h3>
<p>To create a backup job, do the following:</p>
<ol class="arabic simple">
<li><p>From the menu, click <strong>Backup</strong>. The backup job wizard appears.</p></li>
<li><p>At the <strong>Hosts and resources</strong> step, select the host and the Kubernetes resource. The wizard goes to the next step automatically.</p></li>
<li><p>At the <strong>Backup source</strong> step, select <strong>Full backup</strong>. Click <strong>Next</strong>.</p></li>
<li><p>At the <strong>Backup target</strong> step, select a storage pool. Click <strong>Next</strong>.</p></li>
<li><p>At the <strong>Backup schedule</strong> step, set the job schedule. For details, see <a class="reference internal" href="#backup-policies">Backup policies</a>. Click <strong>Next</strong>.</p>
<ul class="simple">
<li><p>Select <strong>Immediate</strong>. ADPS performs the job immediately after it is created.</p></li>
<li><p>Select <strong>One time</strong> and set the start time for the job.</p></li>
<li><p>Select <strong>Hourly</strong>. Set the start time, end time, and time interval for job execution. The unit can be hour(s) or minute(s).</p></li>
<li><p>Select <strong>Daily</strong>. Set the start time and enter the time interval for job execution. The unit is day(s).</p></li>
<li><p>Select <strong>Weekly</strong>. Set the start time, enter the time interval, and select the specific dates in a week for job execution. The unit is week.</p></li>
<li><p>Select <strong>Monthly</strong>. Set the start time and months for job execution. You can select the natural dates in one month or select the specific dates in one week.</p></li>
</ul>
</li>
<li><p>At the <strong>Backup options</strong> step, set the common and advanced options according to your needs. For details, see <a class="reference internal" href="#backup-options">Backup options</a>. Click <strong>Next</strong>.</p></li>
<li><p>At the <strong>Finish</strong> step, set the job name and confirm the job information. Click <strong>Submit</strong>.</p></li>
<li><p>After the submission, you will be redirected to the <strong>Job</strong> page automatically. On this page, you can start, modify, and delete the job.</p></li>
</ol>
</section>
<section id="backup-options">
<h3>Backup options<a class="headerlink" href="#backup-options" title="Link to this heading">#</a></h3>
<p>ADPS provides the following backup options:</p>
<ul class="simple">
<li><p>Common options</p></li>
</ul>
<table class="longtable table" id="id2">
<caption><span class="caption-text">Backup common options</span><a class="headerlink" href="#id2" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Compression</p></td>
<td><p>Fast is enabled by default. Backup data is compressed at the source side for transmission. It can reduce the backup time, improve backup efficiency, and save backup space.</p></td>
</tr>
<tr class="row-odd"><td><p>Channels</p></td>
<td><p>It can improve backup efficiency. The default value is 1 and the value ranges from 1 to 255. <br> We recommend a value the same as the number of CPU cores. If the value exceeds the core number, the efficiency improvement will not be obvious.</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Advanced options</p></li>
</ul>
<table class="longtable table" id="id3">
<caption><span class="caption-text">Backup advanced options</span><a class="headerlink" href="#id3" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Reconnection time</p></td>
<td><p>The value ranges from 1 to 60 minutes. The job continues after the abnormal reset occurs in the network within the set time.</p></td>
</tr>
<tr class="row-odd"><td><p>Speed limit</p></td>
<td><p>Limits data transfer speed or disk read/write speed for different time periods. The unit can be KiB/s, MiB/s, and GiB/s.</p></td>
</tr>
<tr class="row-even"><td><p>Precondition</p></td>
<td><p>Checked before the job starts. The job execution will be aborted and the job state will be idle when the precondition is invalid.</p></td>
</tr>
<tr class="row-odd"><td><p>Pre-/Post-script</p></td>
<td><p>The pre-script is executed after the job starts and before the resource is backed up. The post-script is executed after the resource is backed up.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="restore">
<h2>Restore<a class="headerlink" href="#restore" title="Link to this heading">#</a></h2>
<p>ADPS provides point-in-time restore for Kubernetes.</p>
<ul>
<li><p>Point-in-time restore</p>
<p>Restores Kubernetes to a specified point in time. The restore target can be the original host or a different host.</p>
</li>
</ul>
<section id="id1">
<h3>Before you begin<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>To restore the instance to a different host, install the agent on that Kubernetes cluster, activate the licenses, and authorize user access to the resource.</p>
</section>
<section id="create-a-point-in-time-restore-job">
<h3>Create a point-in-time restore job<a class="headerlink" href="#create-a-point-in-time-restore-job" title="Link to this heading">#</a></h3>
<p>To create a point-in-time restore job, do the following:</p>
<ol class="arabic">
<li><p>From the menu, click <strong>Restore</strong>. The restore job wizard appears.</p></li>
<li><p>At the <strong>Hosts and resources</strong> step, select the host and the Kubernetes resource. The wizard goes to the next step automatically.</p></li>
<li><p>At the <strong>Backup sets</strong> step, do the following:</p>
<p>(1) From the <strong>Restore type</strong> list, select <strong>Point-in-time restore</strong>.</p>
<p>(2) In the <strong>Restore source</strong> section, select a backup set for the restore job.</p>
<p>(3) Click <strong>Next</strong>.</p>
</li>
<li><p>At the <strong>Restore target</strong> step, select a host and resource as the target. The wizard goes to the next step automatically.</p></li>
<li><p>At the <strong>Restore schedule</strong> step, set the job schedule. Click <strong>Next</strong>.</p>
<ul class="simple">
<li><p>Select <strong>Immediate</strong>. ADPS will perform the job immediately after its creation.</p></li>
<li><p>Select <strong>One time</strong> and set the start time for the job.</p></li>
</ul>
</li>
<li><p>At the <strong>Restore options</strong> step, set the options according to your needs. See <a class="reference internal" href="#restore-options">Restore options</a>. Click <strong>Next</strong>.</p></li>
<li><p>At the <strong>Finish</strong> step, set the job name and confirm the job information. Click <strong>Submit</strong>.</p></li>
<li><p>After the submission, you will be redirected to the <strong>Job</strong> page. You can start, modify, and delete the job.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>During restore, the data may be restored successfully while the job fails because the related configuration resources of the original service have conflicts. In this case, you need to create the service resources and modify the IP and port manually.</p>
</div>
</section>
<section id="restore-options">
<h3>Restore options<a class="headerlink" href="#restore-options" title="Link to this heading">#</a></h3>
<p>ADPS provides the following restore options:</p>
<ul class="simple">
<li><p>Advanced options</p></li>
</ul>
<table class="longtable table" id="id4">
<caption><span class="caption-text">Restore advanced options</span><a class="headerlink" href="#id4" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Reconnection time</p></td>
<td><p>The value ranges from 1 to 60 minutes. The job continues after the abnormal reset occurs in the network within the set time.</p></td>
</tr>
<tr class="row-odd"><td><p>Resumption buffer size</p></td>
<td><p>Specifies the resumption buffer size. The default value is 10 MiB. The bigger the resumption buffer size is, the more physical storage will be consumed. However, a bigger resumption buffer size can prevent data loss when the throughput of the business system is high.</p></td>
</tr>
<tr class="row-even"><td><p>Speed limit</p></td>
<td><p>Limits data transfer speed or disk read/write speed for different time periods. The unit can be KiB/s, MiB/s, and GiB/s.</p></td>
</tr>
<tr class="row-odd"><td><p>Precondition</p></td>
<td><p>Checked before the job starts. The job execution will be aborted and the job state will be idle when the precondition is invalid.</p></td>
</tr>
<tr class="row-even"><td><p>Pre-/Post-script</p></td>
<td><p>The pre-script is executed after the job starts and before the resource is restored. The post-script is executed after the resource is restored.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Link to this heading">#</a></h2>
<table class="longtable table" id="id5">
<caption><span class="caption-text">Limitations</span><a class="headerlink" href="#id5" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>Limitations</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Backup</p></td>
<td><p>1. Cannot back up volumes mounted on block devices. <br>  2. Can only back up workloads using Ceph-CSI/CephFS-CSI persistent volumes.  <br>  3. Cannot back up a whole cluster. <br>  4. Do not support the NFS file system.</p></td>
</tr>
<tr class="row-odd"><td><p>Environment</p></td>
<td><p>1. The kernel of the Ceph cluster must be later than 5.1. <br>  2. Kubernetes version cannot be older than v1.17.0. <br>  3. Ceph version must be later than v14.0. <br>  4. Do not support IPv6 dual-stack networking. <br>  5. LAN-free pools using iSCSI are supported.</p></td>
</tr>
<tr class="row-even"><td><p>Restore</p></td>
<td><p>1. Cannot restore the Ceph-CSI driver. <br>  2. Cannot restore agent-related pods.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Link to this heading">#</a></h2>
<table class="longtable table" id="id6">
<caption><span class="caption-text">Glossary</span><a class="headerlink" href="#id6" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Term</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CustomResourceDefinition</p></td>
<td><p>Abbreviated as CRD. A claim for user to define the resource object.</p></td>
</tr>
<tr class="row-odd"><td><p>namespace</p></td>
<td><p>Kubernetes (K8s) supports multiple virtual clusters which rely on the same physical cluster. These virtual clusters are called namespaces. By allocating resources to different namespaces, resources can be logically isolated and more easily managed for different uses. Resources in the same namespace must have unique names, while resources in different namespaces can share the same name.</p></td>
</tr>
<tr class="row-even"><td><p>Master</p></td>
<td><p>A node that is the main control component of K8s.</p></td>
</tr>
<tr class="row-odd"><td><p>Node</p></td>
<td><p>A component in a K8s cluster which can be a physical or virtual machine. K8S</p></td>
</tr>
<tr class="row-even"><td><p>Pod</p></td>
<td><p>The smallest deployable units of computing that users can create and manage in Kubernetes. A Pod is a group of one or more containers.</p></td>
</tr>
<tr class="row-odd"><td><p>Service</p></td>
<td><p>A method for exposing a network application that is running as one or more Pods in a cluster.</p></td>
</tr>
<tr class="row-even"><td><p>NodePort</p></td>
<td><p>A network service that is used to expose the application to the internet.</p></td>
</tr>
<tr class="row-odd"><td><p>StorageClass</p></td>
<td><p>Provides a way for administrators to describe the classes of storage they offer.</p></td>
</tr>
<tr class="row-even"><td><p>VolumeSnapshotClass</p></td>
<td><p>Provides a way to describe the “classes” of storage when provisioning a volume snapshot.</p></td>
</tr>
<tr class="row-odd"><td><p>VolumeSnapshotContent</p></td>
<td><p>A snapshot taken from a volume in the cluster that has been provisioned by an administrator. It is a resource in the cluster just like a PersistentVolume is a cluster resource.</p></td>
</tr>
<tr class="row-even"><td><p>VolumeSnapshot</p></td>
<td><p>A request for snapshot of a volume by a user. It is similar to a PersistentVolumeClaim.</p></td>
</tr>
<tr class="row-odd"><td><p>PersistentVolume</p></td>
<td><p>Abbreviated as PV. A piece of storage in the cluster that has been provisioned by an administrator or dynamically provisioned using Storage Classes.</p></td>
</tr>
<tr class="row-even"><td><p>PersistentVolumeClaim</p></td>
<td><p>Abbreviated as PVC. A request for storage by a user.</p></td>
</tr>
<tr class="row-odd"><td><p>Secret</p></td>
<td><p>An object that contains a small amount of sensitive data such as a password, a token, or a key.</p></td>
</tr>
<tr class="row-even"><td><p>ConfigMap</p></td>
<td><p>An API object used to store non-confidential data in key-value pairs</p></td>
</tr>
<tr class="row-odd"><td><p>ServiceAccount</p></td>
<td><p>Provides an identity for processes that run in a Pod, and maps to a ServiceAccount object.</p></td>
</tr>
<tr class="row-even"><td><p>LimitRange</p></td>
<td><p>A policy to constrain the resource allocations (limits and requests) that you can specify for each applicable object kind (such as Pod or PersistentVolumeClaim) in a namespace.</p></td>
</tr>
<tr class="row-odd"><td><p>CSI</p></td>
<td><p>Container Storage Interface. An industry standard interface rule created by community members including Kubernetes, Mesos, and Docker. CSI is a standard for exposing arbitrary block and file storage systems to containerized workloads on Container Orchestration Systems (COs).</p></td>
</tr>
<tr class="row-even"><td><p>Clone</p></td>
<td><p>Creates a copy of the existing Kubernetes volumes. The copy can be used as any other standard volume. Clone only supports CSI driver.</p></td>
</tr>
<tr class="row-odd"><td><p>ReplicationController</p></td>
<td><p>Abbreviated as RC. It can create and manage a specified number of pod replicas.</p></td>
</tr>
<tr class="row-even"><td><p>ReplicaSet</p></td>
<td><p>Abbreviated as RS. It maintains a stable set of replica Pods running at any given time and can replace RC.</p></td>
</tr>
<tr class="row-odd"><td><p>Deployment</p></td>
<td><p>Can be regarded as a superset of RC. In addition to providing functions such as Pod management, it also provides new features such as rollback and version recording. Generally, we do not create RC/RS directly, but create higher-level Deployment resources to automatically create RC/RS.</p></td>
</tr>
<tr class="row-even"><td><p>ApiServer</p></td>
<td><p>Provides HTTP Rest interfaces for creating, deleting, reading, updating, and monitoring various K8S resource objects (Pod, RC, Service, and so on), and is the data bus and data center of the entire system.ApiServer</p></td>
</tr>
<tr class="row-odd"><td><p>metadata</p></td>
<td><p>This document uses metadata to define the resource data other than persistent volume storage data in namespaces.</p></td>
</tr>
<tr class="row-even"><td><p>DaemonSet</p></td>
<td><p>Ensures that all (or some) Nodes run a copy of a Pod. As nodes are added to the cluster, Pods are added to them. As nodes are removed from the cluster, those Pods are garbage collected. Deleting a DaemonSet will clean up the Pods it created.</p></td>
</tr>
<tr class="row-odd"><td><p>StatefulSet</p></td>
<td><p>Manages the deployment and scaling of a set of Pods and provides guarantees about the ordering and uniqueness of these Pods.</p></td>
</tr>
<tr class="row-even"><td><p>kubectl</p></td>
<td><p>The command line tool (CLI) of Kubernetes. It is the required management tool for Kubernetes users and administrators.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../linux_os/linux_os.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">User Guide for Linux OS</p>
      </div>
    </a>
    <a class="right-next"
       href="../vmware/vmware.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">User Guide for VMware</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#planning-and-preparation">Planning and preparation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-configure-the-agent">Install and configure the agent</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-the-compatibility">Verify the compatibility</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-the-agent">Install the agent</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#activate-licenses-and-authorize-users">Activate licenses and authorize users</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backup">Backup</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-types">Backup types</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-policies">Backup policies</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#before-you-begin">Before you begin</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#log-in-to-the-resource">Log in to the resource</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-backup-job">Create a backup job</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-options">Backup options</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#restore">Restore</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Before you begin</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-a-point-in-time-restore-job">Create a point-in-time restore job</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#restore-options">Restore options</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#limitations">Limitations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#glossary">Glossary</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Aurreum
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  Copyright © 2022-2024 Aurreum
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>