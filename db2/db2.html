
<!DOCTYPE html>


<html lang="en-US" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>User Guide for DB2 &#8212; ADPS V3.0.44811</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css?v=84d92f63" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=6da122b0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'db2/db2';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="User Guide for Sybase" href="../sybase/sybase.html" />
    <link rel="prev" title="User Guide for Microsoft SQL Server" href="../mssql/mssql.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en-US"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="ADPS V3.0.44811 - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="ADPS V3.0.44811 - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Deployment</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../install/install.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agent_install/agent_install.html">Agent Installation Guide</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Management</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../administrator/administrator.html">Administrator’s Guide</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Databases</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../oracle/oracle.html">User Guide for Oracle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mysql/mysql.html">User Guide for MySQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mssql/mssql.html">User Guide for Microsoft SQL Server</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">User Guide for DB2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sybase/sybase.html">User Guide for Sybase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../informix/informix.html">User Guide for Informix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../postgresql/postgresql.html">User Guide for PostgreSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cachedb/cachedb.html">User Guide for Caché</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hana/hana.html">User Guide for SAP HANA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mariadb/mariadb.html">User Guide for MariaDB</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Files</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../file/file.html">User Guide for File</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Big Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../mongodb/mongodb.html">User Guide for MongoDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hadoop/hadoop.html">User Guide for Hadoop</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Object Storage</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../obs/obs.html">User Guide for Object Storage Service</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Applications</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../exchange/exchange.html">User Guide for Exchange</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Operating Systems</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../linux_os/linux_os.html">User Guide for Linux OS</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Containers</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../k8s/k8s.html">User Guide for Kubernetes</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Virtualization</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../vmware/vmware.html">User Guide for VMware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openstack/openstack.html">User Guide for OpenStack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hyper_v/hyper_v.html">User Guide for Hyper-V</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">



<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>User Guide for DB2</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#features">Features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-configure-agent">Install and Configure Agent</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-compatibility">Verify Compatibility</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#download-agent-package">Download Agent Package</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-configure-agent-on-linux-os">Install and Configure Agent on Linux OS</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-configure-agent-on-windows-os">Install and Configure Agent on Windows OS</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#download-windows-installation-package">Download Windows Installation Package</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#install-agent-on-windows">Install Agent on Windows</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-successful-installation">Check Successful Installation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#activate-license-and-authorize-user">Activate License and Authorize User</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#register-host">Register Host</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#activate-license">Activate License</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#authorize-user">Authorize User</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#before-you-begin">Before You Begin</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-database-state">Check Database State</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-resource">Check Resource</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-storage-pool">Check Storage Pool</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-time-login">First Time Login</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-backup-jobs">Create Backup Jobs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-full-backup-jobs">Create Full Backup Jobs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-incremental-backup-cumulative-incremental-backup-jobs">Create Incremental Backup / Cumulative Incremental Backup Jobs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-log-backup-jobs">Create Log Backup Jobs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-automatic-archiving-log-backup-jobs">Create Automatic Archiving Log Backup Jobs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-restore-jobs">Create Restore Jobs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Prerequisites</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-timepoint-restore-jobs">Create Timepoint Restore Jobs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-restore-archived-logs-jobs">Create Restore Archived Logs Jobs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-recovery-testing-jobs">Create Recovery Testing Jobs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manage-jobs">Manage Jobs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-protection-strategy">Backup Protection Strategy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-schedule-operation">Backup Schedule Operation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-strategy-advice">Backup Strategy Advice</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parallelism-sessions-number-configuration">Parallelism/Sessions Number Configuration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#limitations">Limitations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#glossary">Glossary</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="user-guide-for-db2">
<h1>User Guide for DB2<a class="headerlink" href="#user-guide-for-db2" title="Link to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>Aurreum Data Protection Suite (ADPS) provides the capability for the backup and restore of DB2 databases. This guide introduces how to properly use ADPS to back up and restore DB2 databases.</p>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Link to this heading">#</a></h2>
<table class="longtable table" id="id2">
<caption><span class="caption-text">Features</span><a class="headerlink" href="#id2" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Backup type</p></td>
<td><p>Full backup, incremental backup, cumulative incremental backup, automatic archiving log backup, log backup</p></td>
</tr>
<tr class="row-odd"><td><p>Backup source</p></td>
<td><p>Database (single, multiple)</p></td>
</tr>
<tr class="row-even"><td><p>Backup target</p></td>
<td><p>Standard storage pool, de-duplication storage pool, local storage pool, tape library pool, object storage service pool, LAN-Free pool</p></td>
</tr>
<tr class="row-odd"><td><p>Reconnection time</p></td>
<td><p>The job continues after the abnormal reset occurs in the network within the set time. The default value is 10 minutes.</p></td>
</tr>
<tr class="row-even"><td><p>Backup compression</p></td>
<td><p>Fast, none, tunable</p></td>
</tr>
<tr class="row-odd"><td><p>Backup schedule</p></td>
<td><p>Immediate, one time, minutely, hourly, daily, weekly, monthly</p></td>
</tr>
<tr class="row-even"><td><p>Restore type</p></td>
<td><p>Timepoint restore, restore archived logs, recovery testing</p></td>
</tr>
<tr class="row-odd"><td><p>Restore location</p></td>
<td><p>Original path, custom path</p></td>
</tr>
<tr class="row-even"><td><p>Restore granularity</p></td>
<td><p>Entire database</p></td>
</tr>
<tr class="row-odd"><td><p>Restore to different hosts</p></td>
<td><p>Restoring to a different host requires the same OS and database versions.</p></td>
</tr>
<tr class="row-even"><td><p>Disaster recovery</p></td>
<td><p>Restore a single or multiple databases to the latest backup state simultaneously</p></td>
</tr>
<tr class="row-odd"><td><p>Storage pool replication</p></td>
<td><p>Replicate backup sets from the source storage pool to another pool</p></td>
</tr>
<tr class="row-even"><td><p>Restore from target pools</p></td>
<td><p>Restore backup sets from the target storage pool</p></td>
</tr>
<tr class="row-odd"><td><p>Pre/Post action</p></td>
<td><p>The pre action is executed after the job starts and before the resource is backed up or restored. The post action is executed after the resource is backed up or restored.</p></td>
</tr>
<tr class="row-even"><td><p>Stop jobs</p></td>
<td><p>Stop backup and restore jobs</p></td>
</tr>
<tr class="row-odd"><td><p>Speed limit</p></td>
<td><p>Limit data transfer speed or disk read and write speed at different times</p></td>
</tr>
<tr class="row-even"><td><p>D2C</p></td>
<td><p>Back up data directly to the object storage</p></td>
</tr>
<tr class="row-odd"><td><p>D2T</p></td>
<td><p>Back up data directly to the tape libraries</p></td>
</tr>
<tr class="row-even"><td><p>LAN-Free</p></td>
<td><p>Back up to and restore from LAN-Free storage pools</p></td>
</tr>
<tr class="row-odd"><td><p>Modify the backup source and target</p></td>
<td><p>Modify the backup source and backup target of a job</p></td>
</tr>
<tr class="row-even"><td><p>IPv6</p></td>
<td><p>Transfer and manage data over IPv6 network</p></td>
</tr>
<tr class="row-odd"><td><p>Access key login</p></td>
<td><p>Login with Access Key is supported</p></td>
</tr>
</tbody>
</table>
</section>
<section id="install-and-configure-agent">
<h2>Install and Configure Agent<a class="headerlink" href="#install-and-configure-agent" title="Link to this heading">#</a></h2>
<section id="verify-compatibility">
<h3>Verify Compatibility<a class="headerlink" href="#verify-compatibility" title="Link to this heading">#</a></h3>
<p>Before deploying the agent, check whether your operating system (OS) and database version are supported. See the following information for mainly supported database and OS versions:</p>
<ul class="simple">
<li><p>DB2 version: 8.1/9.1/9.5/9.7/10.1/10.5/11.1</p></li>
<li><p>OS version:</p>
<ul>
<li><p>Windows 2003/2008/2008 R2/2012</p></li>
<li><p>Linux 6/7/8</p></li>
<li><p>AIX 6.1/7.1</p></li>
</ul>
</li>
</ul>
</section>
<section id="download-agent-package">
<h3>Download Agent Package<a class="headerlink" href="#download-agent-package" title="Link to this heading">#</a></h3>
<p>Log in to ADPS console as the admin. Click <strong>Resource</strong> -&gt; <strong>Install Agent</strong> icon and download the installation packages according to your needs.</p>
<p><img alt="db2_agent01" src="../_images/db2_agent01.png" /></p>
</section>
<section id="install-and-configure-agent-on-linux-os">
<h3>Install and Configure Agent on Linux OS<a class="headerlink" href="#install-and-configure-agent-on-linux-os" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Select <strong>Linux</strong> as the system and <strong>DB2</strong> as the module. Copy an installation command.</p></li>
</ol>
<p><img alt="" src="../_images/db2_agent02.png" /></p>
<ol class="arabic simple" start="2">
<li><p>Paste and run the command in the terminal of the target host to execute the installation.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="p">[</span><span class="n">root</span><span class="nd">@kylinv10x86</span> <span class="o">~</span><span class="p">]</span><span class="c1"># curl -o- &quot;http://192.168.18.57:50305/d2/update/script?modules=file&amp;location=http%3A%2F%2F192.168.18.57%3A50305&amp;access_key=b448e47a5e5ae07c5a4a77bf97c383f5&amp;rm=&amp;tool=curl&quot; | sh</span>
  <span class="o">%</span> <span class="n">Total</span>    <span class="o">%</span> <span class="n">Received</span> <span class="o">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
                                 <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
<span class="mi">100</span>  <span class="mi">7912</span>    <span class="mi">0</span>  <span class="mi">7912</span>    <span class="mi">0</span>     <span class="mi">0</span>  <span class="mi">3863</span><span class="n">k</span>      <span class="mi">0</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="mi">3863</span><span class="n">k</span>
  <span class="o">%</span> <span class="n">Total</span>    <span class="o">%</span> <span class="n">Received</span> <span class="o">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
                                 <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
  <span class="mi">0</span>     <span class="mi">0</span>    <span class="mi">0</span>     <span class="mi">0</span>    <span class="mi">0</span>     <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span>     <span class="mi">0</span>
<span class="mi">100</span> <span class="mf">57.2</span><span class="n">M</span>  <span class="mi">100</span> <span class="mf">57.2</span><span class="n">M</span>    <span class="mi">0</span>     <span class="mi">0</span>  <span class="mf">22.1</span><span class="n">M</span>      <span class="mi">0</span>  <span class="mi">0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">02</span>  <span class="mi">0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">02</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="mf">24.8</span><span class="n">M</span>
  <span class="o">%</span> <span class="n">Total</span>    <span class="o">%</span> <span class="n">Received</span> <span class="o">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
                                 <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
  <span class="mi">0</span>     <span class="mi">0</span>    <span class="mi">0</span>     <span class="mi">0</span>    <span class="mi">0</span>     <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span>     <span class="mi">0</span>
<span class="mi">100</span> <span class="mi">6175</span><span class="n">k</span>  <span class="mi">100</span> <span class="mi">6175</span><span class="n">k</span>    <span class="mi">0</span>     <span class="mi">0</span>  <span class="mf">97.2</span><span class="n">M</span>      <span class="mi">0</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="mf">97.2</span><span class="n">M</span>
  <span class="o">%</span> <span class="n">Total</span>    <span class="o">%</span> <span class="n">Received</span> <span class="o">%</span> <span class="n">Xferd</span>  <span class="n">Average</span> <span class="n">Speed</span>   <span class="n">Time</span>    <span class="n">Time</span>     <span class="n">Time</span>  <span class="n">Current</span>
                                 <span class="n">Dload</span>  <span class="n">Upload</span>   <span class="n">Total</span>   <span class="n">Spent</span>    <span class="n">Left</span>  <span class="n">Speed</span>
  <span class="mi">0</span>     <span class="mi">0</span>    <span class="mi">0</span>     <span class="mi">0</span>    <span class="mi">0</span>     <span class="mi">0</span>      <span class="mi">0</span>      <span class="mi">0</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span>     <span class="mi">0</span>
<span class="mi">100</span>  <span class="mi">814</span><span class="n">k</span>  <span class="mi">100</span>  <span class="mi">814</span><span class="n">k</span>    <span class="mi">0</span>     <span class="mi">0</span>  <span class="mi">9465</span><span class="n">k</span>      <span class="mi">0</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="o">--</span><span class="p">:</span><span class="o">--</span><span class="p">:</span><span class="o">--</span> <span class="mi">9465</span><span class="n">k</span>
<span class="n">warning</span><span class="p">:</span> <span class="n">adps</span><span class="o">-</span><span class="n">common</span><span class="o">-</span><span class="n">V3</span><span class="mf">.0.44811</span><span class="o">-</span><span class="mf">1.</span><span class="n">b6392da</span><span class="o">.</span><span class="n">dbg</span><span class="o">.</span><span class="n">x86_64</span><span class="o">.</span><span class="n">rpm</span><span class="p">:</span> <span class="n">Header</span> <span class="n">V3</span> <span class="n">RSA</span><span class="o">/</span><span class="n">SHA1</span> <span class="n">Signature</span><span class="p">,</span> <span class="n">key</span> <span class="n">ID</span> <span class="mi">378</span><span class="n">aae6a</span><span class="p">:</span> <span class="n">NOKEY</span>
<span class="n">Verifying</span><span class="o">...</span>                          <span class="c1">################################# [100%]</span>
<span class="n">Preparing</span><span class="o">...</span>                          <span class="c1">################################# [100%]</span>
	<span class="n">package</span> <span class="n">adps</span><span class="o">-</span><span class="n">common</span><span class="o">-</span><span class="n">V3</span><span class="mf">.0.44811</span><span class="o">-</span><span class="mf">1.1</span><span class="n">eebb99</span><span class="o">.</span><span class="n">dbg</span><span class="o">.</span><span class="n">x86_64</span> <span class="ow">is</span> <span class="n">already</span> <span class="n">installed</span>
<span class="n">warning</span><span class="p">:</span> <span class="n">adps</span><span class="o">-</span><span class="n">agent</span><span class="o">-</span><span class="n">V3</span><span class="mf">.0.44811</span><span class="o">-</span><span class="mf">1.</span><span class="n">b6392da</span><span class="o">.</span><span class="n">dbg</span><span class="o">.</span><span class="n">x86_64</span><span class="o">.</span><span class="n">rpm</span><span class="p">:</span> <span class="n">Header</span> <span class="n">V3</span> <span class="n">RSA</span><span class="o">/</span><span class="n">SHA1</span> <span class="n">Signature</span><span class="p">,</span> <span class="n">key</span> <span class="n">ID</span> <span class="mi">378</span><span class="n">aae6a</span><span class="p">:</span> <span class="n">NOKEY</span>
<span class="n">Verifying</span><span class="o">...</span>                          <span class="c1">################################# [100%]</span>
<span class="n">Preparing</span><span class="o">...</span>                          <span class="c1">################################# [100%]</span>
	<span class="n">package</span> <span class="n">adps</span><span class="o">-</span><span class="n">agent</span><span class="o">-</span><span class="n">V3</span><span class="mf">.0.44811</span><span class="o">-</span><span class="mf">1.1</span><span class="n">eebb99</span><span class="o">.</span><span class="n">dbg</span><span class="o">.</span><span class="n">x86_64</span> <span class="ow">is</span> <span class="n">already</span> <span class="n">installed</span>
<span class="n">warning</span><span class="p">:</span> <span class="n">adps</span><span class="o">-</span><span class="n">agent</span><span class="o">-</span><span class="n">file</span><span class="o">-</span><span class="n">V3</span><span class="mf">.0.44811</span><span class="o">-</span><span class="mf">1.</span><span class="n">b6392da</span><span class="o">.</span><span class="n">dbg</span><span class="o">.</span><span class="n">x86_64</span><span class="o">.</span><span class="n">rpm</span><span class="p">:</span> <span class="n">Header</span> <span class="n">V3</span> <span class="n">RSA</span><span class="o">/</span><span class="n">SHA1</span> <span class="n">Signature</span><span class="p">,</span> <span class="n">key</span> <span class="n">ID</span> <span class="mi">378</span><span class="n">aae6a</span><span class="p">:</span> <span class="n">NOKEY</span>
<span class="n">Verifying</span><span class="o">...</span>                          <span class="c1">################################# [100%]</span>
<span class="n">Preparing</span><span class="o">...</span>                          <span class="c1">################################# [100%]</span>
	<span class="n">package</span> <span class="n">adps</span><span class="o">-</span><span class="n">agent</span><span class="o">-</span><span class="n">file</span><span class="o">-</span><span class="n">V3</span><span class="mf">.0.44811</span><span class="o">-</span><span class="mf">1.1</span><span class="n">eebb99</span><span class="o">.</span><span class="n">dbg</span><span class="o">.</span><span class="n">x86_64</span> <span class="ow">is</span> <span class="n">already</span> <span class="n">installed</span>
<span class="n">Restarting</span> <span class="n">adps</span><span class="o">-</span><span class="n">agent</span> <span class="p">(</span><span class="n">via</span> <span class="n">systemctl</span><span class="p">):</span>  <span class="p">[</span>  <span class="n">OK</span>  <span class="p">]</span>
<span class="p">[</span><span class="n">root</span><span class="nd">@kylinv10x86</span> <span class="o">~</span><span class="p">]</span><span class="c1">#</span>
</pre></div>
</div>
</section>
<section id="install-and-configure-agent-on-windows-os">
<h3>Install and Configure Agent on Windows OS<a class="headerlink" href="#install-and-configure-agent-on-windows-os" title="Link to this heading">#</a></h3>
<section id="download-windows-installation-package">
<h4>Download Windows Installation Package<a class="headerlink" href="#download-windows-installation-package" title="Link to this heading">#</a></h4>
<p>In the <strong>Install agent</strong> window, select <strong>Windows</strong> and click <strong>Download Windows agent</strong> to download the package.</p>
<p><img alt="" src="../_images/db2_install01.png" /></p>
</section>
<section id="install-agent-on-windows">
<h4>Install Agent on Windows<a class="headerlink" href="#install-agent-on-windows" title="Link to this heading">#</a></h4>
<ol class="arabic">
<li><p>Upload the installation package to the target host.</p></li>
<li><p>Double-click the package to launch the setup wizard and click <strong>Next</strong>.</p></li>
<li><p>This installation package is a collection of components. It checks the database resources, files, or applications installed on the host by default. Select the <strong>DB2</strong> component and click <strong>Next</strong>.</p>
<p><img alt="" src="../_images/db2_windows_install02.png" /></p>
</li>
<li><p>Set the <strong>Backup Server Host</strong>, <strong>Backup Server Port</strong>, and <strong>Access Key</strong>. Click <strong>Next</strong>.</p>
<p><img alt="" src="../_images/db2_windows_install01.png" /></p>
</li>
<li><p>Select <strong>Destination Folder</strong> and click <strong>Next</strong> to install the software. Wait for the installation to complete.</p></li>
</ol>
</section>
</section>
<section id="check-successful-installation">
<h3>Check Successful Installation<a class="headerlink" href="#check-successful-installation" title="Link to this heading">#</a></h3>
<p>After the successful installation, log in to ADPS console as the admin and go to the <strong>Resource</strong> page. The host with the agent installed will be available on the Resource list.</p>
<p><img alt="" src="../_images/db2_agent04.png" /></p>
</section>
</section>
<section id="activate-license-and-authorize-user">
<h2>Activate License and Authorize User<a class="headerlink" href="#activate-license-and-authorize-user" title="Link to this heading">#</a></h2>
<p>This chapter is applicable to configuring one agent. If you have multiple agents, you can deploy them first, then carry out activation and authorization in batches. See <em>Batch Register/Activate/Authorize</em> from <em>Administrator’s Guide</em> for more details.</p>
<section id="register-host">
<h3>Register Host<a class="headerlink" href="#register-host" title="Link to this heading">#</a></h3>
<p>Log in to ADPS console as the admin, go to <strong>Resource</strong>, and select the host that you want to activate. Click the <strong>Register</strong> icon.</p>
<p><img alt="" src="../_images/db2_agent05.png" /></p>
</section>
<section id="activate-license">
<h3>Activate License<a class="headerlink" href="#activate-license" title="Link to this heading">#</a></h3>
<p>In the pop-up <strong>Activate</strong> window, select the resource that you want to activate. Click <strong>Submit</strong>.</p>
<p><img alt="" src="../_images/db2_agent06.png" /></p>
</section>
<section id="authorize-user">
<h3>Authorize User<a class="headerlink" href="#authorize-user" title="Link to this heading">#</a></h3>
<p>After the activation, authorize users to operate the resource in the pop-up <strong>Authorize</strong> window.</p>
<p><img alt="" src="../_images/db2_agent07.png" /></p>
</section>
</section>
<section id="before-you-begin">
<h2>Before You Begin<a class="headerlink" href="#before-you-begin" title="Link to this heading">#</a></h2>
<section id="check-database-state">
<h3>Check Database State<a class="headerlink" href="#check-database-state" title="Link to this heading">#</a></h3>
<p>Check the DB2 service state. The DB2 database service should be in the “Active – Up” state for backup and restore.</p>
<p><img alt="" src="../_images/db2_agent18.png" /></p>
</section>
<section id="check-resource">
<h3>Check Resource<a class="headerlink" href="#check-resource" title="Link to this heading">#</a></h3>
<p>Log in to ADPS console as the operator and go to <strong>Resource</strong>. You can see the activated and authorized resource with an “Online” state on the list. Please check <em>Activate License and Assign Authorization</em> if the resource is unavailable.</p>
<p><img alt="" src="../_images/db2_agent08.png" /></p>
</section>
<section id="check-storage-pool">
<h3>Check Storage Pool<a class="headerlink" href="#check-storage-pool" title="Link to this heading">#</a></h3>
<p>Log in to ADPS console as the operator, go to <strong>Storage Pool</strong>, and verify the presence of storage pools. If no storage pool is available, please contact the admin to create one and assign permissions to the operator.</p>
<p><img alt="" src="../_images/db2_agent09.png" /></p>
</section>
</section>
<section id="first-time-login">
<h2>First Time Login<a class="headerlink" href="#first-time-login" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Before creating the first DB2 backup and restore, go to <strong>Resource</strong> and click <strong>Login</strong> next to the resource to log in to DB2.</p></li>
</ol>
<p><img alt="" src="../_images/db2_agent10.png" /></p>
<ol class="arabic simple" start="2">
<li><p>You can use <strong>OS Authentication</strong> or <strong>Access Key</strong> to log in to your DB2 database.</p></li>
</ol>
<ul class="simple">
<li><p><strong>OS Authentication</strong>: For OS account login requirements, see <em>Limitation</em>.</p></li>
<li><p><strong>Access Key</strong>: Log in with Access Key tied to the user who has been authorized the resource. Data security risks exist when backup and restore jobs are carried out without the database password.</p></li>
</ul>
<ol class="arabic simple" start="3">
<li><p>Select <strong>Authentication</strong>. Enter <strong>User</strong> and <strong>Password</strong>. Click <strong>Login</strong>.</p></li>
</ol>
<p><img alt="" src="../_images/db2_agent11.png" /></p>
<blockquote>
<div><p>Note:</p>
<ul class="simple">
<li><p>To use the Access Key authentication, it is required that the admin enable the Access Key Login Instance option in Settings -&gt; Security.</p></li>
</ul>
<p><img alt="" src="../_images/db2_agent20.png" /></p>
</div></blockquote>
</section>
<section id="create-backup-jobs">
<h2>Create Backup Jobs<a class="headerlink" href="#create-backup-jobs" title="Link to this heading">#</a></h2>
<p>This chapter introduces how to back up DB2 databases.</p>
<section id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>The agent has been installed. For installation, see <em>Install and Configure Agent</em>.</p></li>
<li><p>The license has been activated, and the resource has been authorized to users. For details, see <em>Activate License and Authorize User</em>.</p></li>
<li><p>Log in to the ADPS console as the <em>operator</em> with resource permissions.</p></li>
</ul>
</section>
<section id="create-full-backup-jobs">
<h3>Create Full Backup Jobs<a class="headerlink" href="#create-full-backup-jobs" title="Link to this heading">#</a></h3>
<p>(1) Click <strong>Backup</strong>. Select the DB2 host and instance.</p>
<p>(2) Select <strong>Full</strong> as the backup type and choose the databases to be backed up.</p>
<blockquote>
<div><p>Note:</p>
<ul>
<li><p>To back up multiple databases simultaneously, select databases with the same code page setting.</p>
<p><img alt="" src="../_images/db2_agent12.png" /></p>
</li>
</ul>
</div></blockquote>
<p>(3) Select <strong>Backup Target</strong>. You can choose a standard storage pool, de-duplication storage pool, tape library pool, object storage service pool, and LAN-Free pool.</p>
<blockquote>
<div><p>Note:</p>
<ul class="simple">
<li><p>It is not supported to store full backups, incremental backups/cumulative incremental backups, and log backups in different storage pools.</p></li>
</ul>
</div></blockquote>
<p>(4) Go to <strong>Backup Schedule</strong> to set the execution time of the backup job. For details, see <em>Backup Schedule Operation</em>. It is generally recommended to run a full backup on a weekly basis.</p>
<p>(5) Set <strong>Backup Options</strong>, including common and advanced options.</p>
<ul class="simple">
<li><p><strong>Common options</strong>:</p></li>
</ul>
<p><img alt="" src="../_images/db2_agent13.png" /></p>
<p><strong>Compression</strong>: <strong>Fast</strong> is enabled by default.</p>
<ul class="simple">
<li><p>None: No data compression during the backup.</p></li>
<li><p>Tunable: You can customize the compression level, which requires the activated feature of Advanced Compression.</p></li>
<li><p>Fast: Use the fast compression algorithms during the backup.</p></li>
</ul>
<p><strong>Reserve Archive Logs</strong>: Set the retention policy for archive logs. You can choose to delete, retain all archive logs, or choose how long to retain archive logs before the automatic deletion.</p>
<p><strong>Number of Parallelism</strong>: Define the number of tablespaces to be read in parallel, and assign each process or thread to the tablespace. It is recommended that the number of parallelism is not greater than the number of tablespaces in the database.</p>
<p><strong>Number of Sessions</strong>: Specify the number of parallel data streams used to write data. It is recommended that the number of sessions is not greater than the number of the host logical CPU.</p>
<p><img alt="" src="../_images/db2_agent19_en.png" /></p>
<ul class="simple">
<li><p><strong>Advanced options</strong>:</p></li>
</ul>
<p><img alt="" src="../_images/db2_agent14.png" /></p>
<p><strong>Reconnection Time</strong>: The job continues after the abnormal reset occurs in the network within the set time. The value can be 1 to 60. The unit is minute(s).</p>
<p><strong>Speed Limit</strong>: Set the limit for data transfer speed or disk read and write speed. The unit can be MiB/s or KiB/s. Click the ‘’+‘’ icon to add limits at different times.</p>
<p><strong>Precondition</strong>: The precondition is checked before the job starts. The job execution is aborted when the precondition is invalid.</p>
<p><strong>Pre/Post Action</strong>: The pre action is executed after the job starts and before the resource is backed up or restored. The post action is executed after the resource is backed up or restored.</p>
<p>(6) Set the <strong>Job Name</strong> and confirm the job information. Click <strong>Submit</strong>.</p>
</section>
<section id="create-incremental-backup-cumulative-incremental-backup-jobs">
<h3>Create Incremental Backup / Cumulative Incremental Backup Jobs<a class="headerlink" href="#create-incremental-backup-cumulative-incremental-backup-jobs" title="Link to this heading">#</a></h3>
<p>It is generally recommended to create full backups regularly (such as weekly) or create incremental backups / cumulative incremental backups at short intervals (such as daily) so that you have at least one recoverable point in time every day.</p>
<ul>
<li><p>Creating an incremental backup or a cumulative incremental backup is the same as creating a full backup. Select <strong>Incremental Backup</strong> / <strong>Cumulative Incremental Backup</strong> as the backup type and choose databases.</p>
<p><img alt="" src="../_images/db2_agent15.png" /></p>
<blockquote>
<div><p>Note:</p>
<ul class="simple">
<li><p>If the database has never been fully backed up, or has not been fully backed up after the restore, the first incremental backup / cumulative incremental backup will be performed as a full backup by default.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="create-log-backup-jobs">
<h3>Create Log Backup Jobs<a class="headerlink" href="#create-log-backup-jobs" title="Link to this heading">#</a></h3>
<p>Based on periodic full and incremental backups, you can also add frequent log backups to back up only the binary logs of the database. The appropriate log backup frequency depends on the balance between your tolerance for the risk of work loss and the number of log backups you can store, manage, and potentially restore. Performing a log backup every 15 to 30 minutes may be sufficient. But if your business requires minimizing the risk of work loss, consider running more frequent log backups. More frequent log backups also increase the frequency of log truncation, making log files smaller.</p>
<ul>
<li><p>Creating a log backup is similar to creating a full backup. Select <strong>Log</strong> as the backup type and choose databases.</p>
<p><img alt="" src="../_images/db2_agent16.png" /></p>
</li>
</ul>
</section>
<section id="create-automatic-archiving-log-backup-jobs">
<h3>Create Automatic Archiving Log Backup Jobs<a class="headerlink" href="#create-automatic-archiving-log-backup-jobs" title="Link to this heading">#</a></h3>
<p>When you create an automatic archiving log backup job, the job will be in an idle state. The job will be executed when the logical logs get full or when you manually execute the log switch command.</p>
<p>You can only create one automatic archiving log backup job on one database instance. Delete the old automatic archiving log backup job first before creating a new automatic archiving log backup job.</p>
<ul class="simple">
<li><p>Creating an automatic archiving log backup job is the same as creating a full backup job. Select <strong>On Demand</strong> as the backup type.</p></li>
</ul>
<p><img alt="" src="../_images/db2_agent17.png" /></p>
<blockquote>
<div><p>Note:</p>
<ul class="simple">
<li><p>Prerequisites for an automatic archiving log backup job:</p>
<ul>
<li><p>You have executed a full backup job and the full backup set exists;</p></li>
<li><p>You have selected to archive log files to disk for the database. For example: LOGARCHMETH1 = DISK:/home/db2inst1/arch</p></li>
</ul>
</li>
<li><p>Differences between log backup and automatic archiving log backup:</p>
<ul>
<li><p>The database server triggers an automatic archiving log backup when the logical logs are full or when you manually execute the log switch command. To avoid the constant log archiving failures and database hang issues due to the inaccessible storage server, it is recommended that FAILARCHPATH should also be configured for the database when you create the automatic archiving log backup.</p></li>
<li><p>A log backup is initiated and executed by ADPS, and is generally set to execute periodically.</p></li>
</ul>
</li>
<li><p>Log backups and automatic archiving log backups do not back up database schema. If a new table is created and only log backups are performed later instead of the database-level backups (full backups, incremental backups, and cumulative incremental backups), the new table data cannot be restored. Therefore, it is not suggested that only one database-level backup be performed followed by log backups/automatic archiving log backups. For backup strategy details, see <em>Backup Protection Strategy</em>.</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="create-restore-jobs">
<h2>Create Restore Jobs<a class="headerlink" href="#create-restore-jobs" title="Link to this heading">#</a></h2>
<p>This chapter introduces how to restore DB2 databases. ADPS provides a variety of restore types for different needs, including timepoint restore, restore archived logs, and recovery testing.</p>
<section id="id1">
<h3>Prerequisites<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>A backup job has been completed successfully. See <em>Create Backup Jobs</em>.</p></li>
<li><p>To restore to another host, install the agent on that host, activate its license, and assign the resource to users.</p></li>
</ul>
</section>
<section id="create-timepoint-restore-jobs">
<h3>Create Timepoint Restore Jobs<a class="headerlink" href="#create-timepoint-restore-jobs" title="Link to this heading">#</a></h3>
<p>When a logical error or a disaster occurs in a DB2 database, timepoint restore allows you to restore the database to a specified point-in-time state.</p>
<p>(1) Select the DB2 <strong>Host</strong> and <strong>Instance</strong>. Click <strong>Next</strong>.</p>
<p>(2) Select <strong>Timepoint Restore</strong> as the restore type, and select the <strong>Database</strong>. You can select a backup set by clicking the time displayed next to the <strong>Restore to Point-in-time</strong> option, and specify a point in time by dragging the slider control. Click <strong>Next</strong>.</p>
<p><img alt="" src="../_images/db2_recovery_01.png" /></p>
<p>(3) Set <strong>Restore Target</strong>. The restore target can be the source host or a different host. Click <strong>Next</strong>.</p>
<ul class="simple">
<li><p>Source host: The Restore Target page selects the source host by default.</p></li>
<li><p>Different host: On the Restore Target page, you can select a different host. Restoring to a different host requires the same OS version and the same DB2 version.</p></li>
</ul>
<p>(4) Set <strong>Restore Schedule</strong>. Only immediate and one-time schedule types are supported.</p>
<p>(5) Set <strong>Restore Options</strong>. You can set restore database, number of sessions, without Rolling forward in common options, and reconnection time, resumption buffer size, speed limit, precondition, pre/post action and serial restore in advanced options.</p>
<p><strong>Restore database</strong>: You can overwrite the source database or create a new database. To overwrite the source database, leave the field blank; to restore to a new database, the following options will appear automatically when you fill out the field.</p>
<ul class="simple">
<li><p><strong>Database location</strong>: Set the location where the database manager stores database control files.</p></li>
<li><p><strong>Log location</strong>: Set the location of the database active log files.</p></li>
<li><p><strong>Non-automatic storage containers location</strong>: Set the location of the non-automatic storage containers. The option is displayed only when non-automatic storage tablespace containers exist in the database to be restored. It is required to modify all non-automatic storage container paths.</p></li>
<li><p><strong>Automatic storage containers location</strong>: By checking Enable, set the database storage location where the database manager stores the automatic storage tablespace containers. When the container is a raw device, and no same raw device is available on the restore host, ADPS will automatically redirect and restore to DMS. You can create multiple storage containers locations by clicking the “<strong>+</strong>” icon.</p></li>
</ul>
<p><strong>Number of Sessions</strong>: Specify the number of parallel data streams used to write data. It is recommended that the number of sessions is not greater than that of host logical CPU.</p>
<p><strong>Without Rolling forward</strong>: When you enable the option, the database will keep “Pending” after the timepoint restore job is executed successfully.</p>
<p>(6)  Confirm the job information and submit the job.</p>
</section>
<section id="create-restore-archived-logs-jobs">
<h3>Create Restore Archived Logs Jobs<a class="headerlink" href="#create-restore-archived-logs-jobs" title="Link to this heading">#</a></h3>
<p>This restore type is applicable when you enable ARCHIVELOG. You can restore archived logs in the specified range to the database archive log directory of the source host or the different host.</p>
<p>(1) Select the DB2 host and instance. Click <strong>Next</strong>.</p>
<p>(2) Select <strong>Restore Archived Logs</strong> as the restore type. Select the <strong>Database</strong> and <strong>Restore Branch</strong>.</p>
<p><img alt="" src="../_images/db2_recovery_02.png" /></p>
<p><strong>Log ranges</strong>: When you select <strong>Time Range</strong>, drag the slider control to specify a time range; when you select <strong>Log Sequence Range</strong>, select the range to start and end.</p>
<p>(3) Set <strong>Restore Target</strong>. Select the source host or a different host as the restore target. Click <strong>Next</strong>.</p>
<p>(4) Set <strong>Restore Schedule</strong>. Only immediate and one-time schedule types are supported. Click <strong>Next</strong>.</p>
<p>(5) Set <strong>Restore Options</strong>. It is required to set <strong>Archived Logs Destination</strong> in the common options. Click <strong>Next</strong>.</p>
<p>(6) Set <strong>Job Name</strong> and confirm the job information. Click <strong>Submit</strong>.</p>
</section>
<section id="create-recovery-testing-jobs">
<h3>Create Recovery Testing Jobs<a class="headerlink" href="#create-recovery-testing-jobs" title="Link to this heading">#</a></h3>
<p>Recovery testing verifies the integrity and availability of the backup set. With the hourly, daily, weekly, or monthly schedule, you can use recovery testing to restore the latest DB2 backup set to another instance on the source host or a different host.</p>
<p>(1) Select the DB2 host and instance. Click <strong>Next</strong>.</p>
<p>(2) Select <strong>Recovery Testing</strong> and select the databases. You can specify the database name by clicking the <strong>Rename</strong> icon next to the selected database.</p>
<p><img alt="" src="../_images/db2_recovery_03.png" /></p>
<p>(3) Set <strong>Restore Target</strong>. Select the source host or a different host as the restore target. Click <strong>Next</strong>.</p>
<p>(4) Set <strong>Restore Schedule</strong>. You can set an hourly, daily, weekly, or monthly schedule. Click <strong>Next</strong>.</p>
<p>(5) Set <strong>Restore Options</strong>. Click <strong>Next</strong>.</p>
<p>(6) Confirm the job information. Click <strong>Submit</strong>.</p>
<p>(7) Wait for the job cycle to be executed. The job will restore the latest backup sets of the source host.</p>
</section>
</section>
<section id="manage-jobs">
<h2>Manage Jobs<a class="headerlink" href="#manage-jobs" title="Link to this heading">#</a></h2>
<p>The Job page provides the job information of all agents. You can start, modify, and delete the jobs.</p>
<p><img alt="" src="../_images/db2_job.png" /></p>
<ul class="simple">
<li><p>Start: Click <img alt="" src="../_images/db2_job_start.png" /> to start the job immediately.</p></li>
<li><p>Modify: Click <img alt="" src="../_images/db2_job_modify.png" />to modify the basic job information, backup / restore schedule and options.</p></li>
<li><p>Delete: Click <img alt="" src="../_images/db2_job_delete.png" /> to access the confirmation window. Click <strong>OK</strong> to delete the job.</p></li>
</ul>
</section>
<section id="backup-protection-strategy">
<h2>Backup Protection Strategy<a class="headerlink" href="#backup-protection-strategy" title="Link to this heading">#</a></h2>
<section id="backup-schedule-operation">
<h3>Backup Schedule Operation<a class="headerlink" href="#backup-schedule-operation" title="Link to this heading">#</a></h3>
<p>ADPS provides six types of backup schedules. The schedule type selected is only valid for the currently created job.</p>
<p><img alt="" src="../_images/db2_time01.png" /></p>
<ul class="simple">
<li><p>Immediate: The job immediately starts to run after it is submitted.</p></li>
<li><p>One time: After the job is created, it will be in an idle state and start to run when the specified Start time is reached.</p></li>
<li><p>Hourly: After the job is created, the first run will be initiated at the specified Start Time. The next run will be executed after a specified number of hours/minutes within the time range according to the setting. If the unit is Hour, then you can set the value from 1 to 24. If you select the Minute as the unit, then you can set the value from 1 to 60.</p></li>
<li><p>Daily: After the job is created, the first run will be initiated at the specified Start Time. The next run will be executed after a specified number of days according to the setting. The value is an integer between 1 and 5.</p></li>
<li><p>Weekly: After the job is created, the first run will be initiated at the specified Start Time. The next run will be executed after a specified number of weeks according to the setting. You can specify which day of the week to run the job.</p></li>
<li><p>Monthly: The job runs on the specified days of some months at the specified time. For example, you can set the job to run on January 1 and June 1 at 20:00. Or you can set it to run on the first Monday of every month at 20:00.</p></li>
</ul>
<blockquote>
<div><p><strong>Example: Run the job every two weeks on Friday at 18:00</strong></p>
</div></blockquote>
<blockquote>
<div><p><img alt="" src="../_images/db2_time02.png" /></p>
</div></blockquote>
<blockquote>
<div><p><strong>The actual execution time will be</strong>:</p>
<ul class="simple">
<li><p>If the current time is Friday at 17:00, the execution time will be Friday at 18:00 (the current day).</p></li>
<li><p>If the current time is Thursday at 17:00, the execution time will be Friday at 18:00 (the next day).</p></li>
<li><p>If the current time is Saturday at 17:00, the execution time will be next Friday at 18:00.</p></li>
<li><p>After the first run is completed, the job will start automatically at 18:00 on Friday every two weeks.</p></li>
</ul>
</div></blockquote>
</section>
<section id="backup-strategy-advice">
<h3>Backup Strategy Advice<a class="headerlink" href="#backup-strategy-advice" title="Link to this heading">#</a></h3>
<p>There are five types to back up DB2: full backup, incremental backup, cumulative incremental backup, log backup, and automatic archiving log backup. Full backup, incremental backup/cumulative incremental backup, and log backup/automatic archiving log backup can be used together. It is recommended to formulate the following backup strategy according to different situations such as network bandwidth, business data volume, security requirements, and the amount of lost data that you can tolerate.</p>
<ol class="arabic simple">
<li><p>When the application traffic is relatively small, run a <strong>Full Backup</strong> once a week to ensure that you have at least one recoverable RTO every week.</p></li>
<li><p>After that, you can run an <strong>Incremental Backup</strong> every day to reduce the backup time and ensure that you have at least one recoverable RPO every day.</p></li>
<li><p>If the database supports log backup, you can run a <strong>Log Backup</strong> every few hours to ensure that the restore granularity RPO can reach the second level.</p></li>
</ol>
<blockquote>
<div><p>Note:</p>
<ul class="simple">
<li><p>Avoid using the following strategies:</p>
<ul>
<li><p>Perform only full backups.</p></li>
<li><p>Perform a full backup followed by all incremental or log backups.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="parallelism-sessions-number-configuration">
<h2>Parallelism/Sessions Number Configuration<a class="headerlink" href="#parallelism-sessions-number-configuration" title="Link to this heading">#</a></h2>
<ul>
<li><p>Parallelism/Sessions number for backup jobs</p>
<p>DB2 supports up to 255 sessions. You can set the number of parallelism and sessions for backup jobs according to the actual environment. A reasonable number can improve job performance. It is recommended that the number of sessions is not greater than that of host logical CPU, and the number of parallelism is not greater than that of tablespaces.</p>
</li>
<li><p>Parallelism/Sessions number for restore jobs</p>
<p>The restore job does not provide the setting for the parallelism number. It is recommended that the sessions number is not greater than the number of host logical CPU.</p>
</li>
</ul>
</section>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Link to this heading">#</a></h2>
<table class="longtable table" id="id3">
<caption><span class="caption-text">Limitation</span><a class="headerlink" href="#id3" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Limitations</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Backup</p></td>
<td><p>To log in to the DB2 database via the OS authentication method, Linux requires the DB2 instance user account whereas Windows requires a Windows administrator account. If you want to log in to the database using the domain user on Windows, fill in the domain name to successfully log in to the database resource and back up the databases.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Link to this heading">#</a></h2>
<table class="longtable table" id="id4">
<caption><span class="caption-text">Glossary</span><a class="headerlink" href="#id4" title="Link to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Term</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Fast Compression</p></td>
<td><p>Compress data during backup using fast compression algorithms.</p></td>
</tr>
<tr class="row-odd"><td><p>Log truncation</p></td>
<td><p>Log truncation can remove inactive virtual log files from the logical transaction logs in a DB2 database to free up space in the logical logs for reuse by the physical transaction logs.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../mssql/mssql.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">User Guide for Microsoft SQL Server</p>
      </div>
    </a>
    <a class="right-next"
       href="../sybase/sybase.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">User Guide for Sybase</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#features">Features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-configure-agent">Install and Configure Agent</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#verify-compatibility">Verify Compatibility</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#download-agent-package">Download Agent Package</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-configure-agent-on-linux-os">Install and Configure Agent on Linux OS</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-and-configure-agent-on-windows-os">Install and Configure Agent on Windows OS</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#download-windows-installation-package">Download Windows Installation Package</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#install-agent-on-windows">Install Agent on Windows</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-successful-installation">Check Successful Installation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#activate-license-and-authorize-user">Activate License and Authorize User</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#register-host">Register Host</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#activate-license">Activate License</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#authorize-user">Authorize User</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#before-you-begin">Before You Begin</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-database-state">Check Database State</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-resource">Check Resource</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#check-storage-pool">Check Storage Pool</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-time-login">First Time Login</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-backup-jobs">Create Backup Jobs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-full-backup-jobs">Create Full Backup Jobs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-incremental-backup-cumulative-incremental-backup-jobs">Create Incremental Backup / Cumulative Incremental Backup Jobs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-log-backup-jobs">Create Log Backup Jobs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-automatic-archiving-log-backup-jobs">Create Automatic Archiving Log Backup Jobs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-restore-jobs">Create Restore Jobs</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Prerequisites</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-timepoint-restore-jobs">Create Timepoint Restore Jobs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-restore-archived-logs-jobs">Create Restore Archived Logs Jobs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#create-recovery-testing-jobs">Create Recovery Testing Jobs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manage-jobs">Manage Jobs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-protection-strategy">Backup Protection Strategy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-schedule-operation">Backup Schedule Operation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backup-strategy-advice">Backup Strategy Advice</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#parallelism-sessions-number-configuration">Parallelism/Sessions Number Configuration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#limitations">Limitations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#glossary">Glossary</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Aurreum
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  Copyright © 2022-2024 Aurreum
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>